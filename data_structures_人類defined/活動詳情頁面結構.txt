ğŸ¯ è¦æŠ½ä¹œæ•¸æ“šï¼ˆå‘¢é å¯¦éš›æœ‰ï¼‰

æ¨™é¡Œ

ç™¼ä½ˆæ™‚é–“

ä¾†æº

æ´»å‹•é–‹å§‹/çµæŸæ™‚é–“

åœ°å€

è¯çµ¡äºº

é›»è©±

é›»éƒµ

åœ°å€

å…§å®¹ HTML

å…§å®¹åœ–ç‰‡ï¼ˆlazyloadï¼‰

âœ… CSS Selectorï¼ˆæœ€ç›´æ¥ï¼‰
æ¨™é¡Œ
#article-main h1

ç™¼ä½ˆæ™‚é–“
#article-main .article-meta .source span:nth-of-type(1)

ä¾†æº
#article-main .article-meta .source span:nth-of-type(2)

æ´»å‹•æ™‚é–“ï¼ˆæ¡Œé¢ç‰ˆï¼‰
.events-card dl:nth-of-type(1) dd

é–‹å§‹æ™‚é–“ï¼ˆæ‰‹æ©Ÿç‰ˆï¼‰
.events-card dt:contains("å¼€å§‹æ—¶é—´ï¼š") + dd

çµæŸæ™‚é–“ï¼ˆæ‰‹æ©Ÿç‰ˆï¼‰
.events-card dt:contains("ç»“æŸæ—¶é—´ï¼š") + dd

åœ°å€
.events-card dt:contains("æ‰€åœ¨åœ°åŒºï¼š") + dd

è¯çµ¡äºº
.events-card dt:contains("è”ç³»äººï¼š") + dd

é›»è©±
.events-card a.phone

é›»éƒµï¼ˆcloudflare å—ä¿è­·ï¼‰
.events-card a.email span.__cf_email__


ğŸ‘‰ è¦ decodeï¼ˆæˆ‘å¯ä»¥å¹«ä½ å¯« decode functionï¼‰

åœ°å€
.events-card dt:contains("ç›¸å…³åœ°å€ï¼š") + dd

æ­£æ–‡ HTML
#arcbody

æ­£æ–‡åœ–ç‰‡ï¼ˆçœŸæ­£åœ–ç‰‡åœ¨ data-srcï¼‰
#arcbody img.detail-lazy-image


å–ï¼š

data-src

æˆ– data-srcset

ğŸ§­ XPathï¼ˆå¦‚æœä½ ç”¨ scrapyï¼‰
æ¨™é¡Œ
//div[@id="article-main"]//h1/text()

ç™¼ä½ˆæ™‚é–“
//div[@class="article-meta"]//span[1]/text()

ä¾†æº
//div[@class="article-meta"]//span[2]/text()

åœ°å€ä¾‹å­ï¼ˆdt+dd pairï¼‰
//dt[contains(.,"ç›¸å…³åœ°å€")]/following-sibling::dd[1]/text()


ğŸ‘‰ ç”¨åŒä¸€æ‹›å¯ä»¥å–æ‰€æœ‰ dt + dd

ğŸ Python BeautifulSoupï¼ˆå¯ç›´æ¥ç”¨ï¼‰
from bs4 import BeautifulSoup

soup = BeautifulSoup(html, "html.parser")
card = soup.select_one(".events-card")

data = {
    "title": soup.select_one("#article-main h1").get_text(strip=True),
    "published_at": soup.select_one(".article-meta .source span:nth-of-type(1)").get_text(strip=True),
    "source": soup.select_one(".article-meta .source span:nth-of-type(2)").get_text(strip=True),
    "time": card.select_one("dt:contains('æ´»å‹•æ™‚é–“') + dd").get_text(strip=True) if card else None,
    "region": card.select_one("dt:contains('æ‰€åœ¨åœ°åŒº') + dd").get_text(strip=True),
    "contact": card.select_one("dt:contains('è”ç³»äºº') + dd").get_text(strip=True),
    "phone": card.select_one("a.phone").get_text(strip=True),
    "email_cf": card.select_one("span.__cf_email__")["data-cfemail"],
    "address": card.select_one("dt:contains('ç›¸å…³åœ°å€') + dd").get_text(strip=True),
    "content_html": str(soup.select_one("#arcbody")),
    "images": [img["data-src"] for img in soup.select("#arcbody img.detail-lazy-image")]
}